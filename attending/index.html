<!DOCTYPE html>
<html lang="en">

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta charset="UTF-8">
    <meta name="description" content="A media company." />
    <title>Tender Magic</title>
    <link rel="stylesheet" href="style.css">
    <link rel="apple-touch-icon" sizes="180x180" href="favicon_io/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="favicon_io/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="favicon_io/favicon-16x16.png">
    <link rel="manifest" href="favicon_io/site.webmanifest">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>

<body>
    <script>
           function displayMessage(message) {
                var messageBox = $("<div>")
                    .addClass("message-box")
                    .text(message)
                    .appendTo("body")
                    .hide()
                    .fadeIn(400);

                setTimeout(function () {
                    messageBox.fadeOut(400, function () {
                        messageBox.remove();
                    });
                }, 2000);
            }
        function submitToAPI(e) {
            e.preventDefault();
            var URL = "https://9n43zxwvtk.execute-api.us-east-1.amazonaws.com/sendEmailFunction";
            var URL2 = "https://9n43zxwvtk.execute-api.us-east-1.amazonaws.com/sendReturnEmail"

       
            var Namere = /[A-Za-z]{1}[A-Za-z]/;
            if ($("#name-input").val() === "") {
                var message = "Name cannot be empty";
                displayMessage(message);
                return;
            } else if (!Namere.test($("#name-input").val())) {
                var message = "Name must have at least 2 characters";
                displayMessage(message);
                return;
            }
            var name = $("#name-input").val();

            var email = $("#email-input").val();
            if (email === "") {
                var message = "Please enter a valid email address";
                displayMessage(message);
                return;
            } else {
                var reeamil = /^([\w-\.]+@([\w-]+\.)+[\w-]{2,6})?$/;
                if (!reeamil.test(email)) {
                    var message = "Please enter a valid email address";
                    displayMessage(message);
                    return;
                }
            }

            var name = $("#name-input").val();
            var phone = $("#phone-input").val();
            var email = $("#email-input").val();
            var desc = $("#description-input").val();
            var data = {
                name: name,
                phone: phone,
                email: email,
                desc: desc
            };

            $.ajax({
                type : "POST",
                url : URL,
                dataType : "json",
                crossDomain : "true",
                contentType : "application/json; charset=utf-8",
                data: JSON.stringify(data),


                success: function () {
                    // clear form and show a success message
                    displayMessage("Successfull");
                },
                error: function () {
                    // show an error message
                    displayMessage("UnSuccessfull");
                }
            });
            $.ajax({
                type : "POST",
                url : URL2,
                dataType : "json",
                crossDomain : "true",
                contentType : "application/json; charset=utf-8",
                data: JSON.stringify(data),


                success: function () {
                    // clear form and show a success message
                    displayMessage("Successfull");
                    document.getElementById('contact-form').reset();
                },
                error: function () {
                    // show an error message
                    displayMessage("UnSuccessfull");
                    document.getElementById('contact-form').reset();

                }
            });
        }
    </script>
    <div class="clouds">
        <img id="home-button" class="logo" src="assets/695F7AF9-AF1A-4931-A16F-CFE4B90490A9-3.png">

        <form id="contact-form" method="post" class="form">
            <p>my name is</p>
            <input type="text" style="height:35px;" id="name-input" placeholder="name required" class="form-control"
                style="width:100%;" /><br />
            <p>i'm bringing</p>
            <input id="description-input" rows="3" placeholder="enter your message... (optional)" class="form-control"
                style="width:100%;" /><br />
            <p>contact me @</p>
            <input type="phone" style="height:35px;" id="phone-input" placeholder="enter phone number... (optional)"
                class="form-control" style="width:100%;" /><br />
            <p>email:</p>
            <input type="email" style="height:35px;" id="email-input" placeholder="enter email here... (optional)"
                class="form-control" styles="width:100%;" /><br />
            <button type="button" onClick="submitToAPI(event)" class="btn btn-lg"
                style="margin-top:20px;">submit</button>
        </form>
        <img class="logo-2" src="assets/logo-2.PNG"></img>
    </div>
</body>

</html>